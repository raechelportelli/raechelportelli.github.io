<!DOCTYPE html>
<html>

<head>
    <!--V1-->
    <!-- bsic leaflet -->-->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <link rel="stylesheet" href="Style.css">

    <!--MBTILES-->
    <script src="https://unpkg.com/sql.js@0.3.2/js/sql.js"></script>
    <script src="Leaflet.TileLayer.MBTiles.js"></script>

    <!--ELEVATION RATURO-->
    <link rel="stylesheet" href="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.css" />
    <script src="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.js"></script>

    <style>
        .leaflet-tooltip {
            font-weight: 700;
        }
        #map {
            height: 600px;
        }
    </style>
</head>

<body>
    <div id="map" class="leaflet-map"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let opts = {
                map: {
                    center: [42.75393411362465, -84.46925036588932],
                    minZoom: 5,
                    maxZoom: 12,
                },
                points: {
                    icon: {
                        iconUrl: 'https://unpkg.com/@raruto/leaflet-elevation@1.3.5/images/elevation-poi.png',
                        iconSize: [12, 12],
                    },
                },
                elevation: {
                    theme: "lime-theme",
                    detached: true,
                    collapsed: false,
                    autohide: false,
                    width: 600,
                    edgeScale: false,
                },
            };

            let tracks = [
                "Woodstock.gpx",
                "100M_50M.gpx",
            ];

            var map = L.map('map').setView([42.42263, -83.98761], 12);

            L.gpxGroup(tracks, {
                points: [],
                points_options: opts.points,
                elevation: true,
                elevation_options: opts.elevation,
                legend: false,
                distanceMarkers: true,
            }).addTo(map);


            var mb = L.tileLayer.mbTiles('test_multilayer.mbtiles', {
                minZoom: 5,
                maxZoom: 12
            }).addTo(map);

            mb.on('databaseloaded', function (ev) {
                console.info('MBTiles DB loaded', ev);
            });

            mb.on('databaseerror', function (ev) {
                console.info('MBTiles DB error', ev);
            });

            map.attributionControl.addAttribution('Map Data: &copy; <a href="https://github.com/adoroszlai">Attila Doroszlai</a> (<a href="https://github.com/adoroszlai/joebed/blob/gh-pages/LICENSE.md">MIT License</a>)');
        });
    </script>

    <a href="https://github.com/Raruto/leaflet-elevation" class="view-on-github" style="position: fixed;bottom: 10px;left: calc(50% - 60px);z-index: 9999;">
        <img alt="View on Github" src="https://raruto.github.io/img/view-on-github.png" title="View on Github" width="163">
    </a>
</body>

</html>
